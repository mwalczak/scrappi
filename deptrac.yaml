deptrac:
  paths:
    - ./src
  exclude_files:
    - '#.*test.*#i'
  layers:
    - name: Domain
      collectors:
        - type: directory
          value: src/Domain/.*
    - name: Application
      collectors:
        - type: directory
          value: src/Application/.*
    - name: Infrastructure
      collectors:
        - type: directory
          value: src/Infrastructure/.*
  ruleset:
    # Domain Layer - can depend on nothing (pure PHP)
    Domain:
      - Domain
    # Application Layer - can depend on Domain only
    Application:
      - Domain
      - Application
    # Infrastructure Layer - can depend on Domain, Application, and itself
    Infrastructure:
      - Domain
      - Application
      - Infrastructure
  skip_violations:
    # You can add specific violations to skip here if needed
    # Example:
    # App\Domain\Example\Service:
    #   - App\Infrastructure\SomeClass
